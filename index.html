<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Pesan Untukmu</title>

<style>
:root { --pink:#ff85a2; --bg:#fce4ec; }
* { box-sizing:border-box; }

html, body {
    width:100%;
    height:100%;
    margin:0;
    background:var(--bg);
    font-family:'Segoe UI', sans-serif;
    overflow:hidden;
}

body {
    display:flex;
    justify-content:center;
    align-items:center;
}

.container {
    width:100%;
    height:100%;
    background:white;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:25px;
    text-align:center;
}

.img-box {
    height:35%;
    display:flex;
    align-items:center;
    justify-content:center;
}

.img-box img {
    max-height:100%;
    border-radius:20px;
}

#teks {
    min-height:180px;
    font-size:15px;
    color:#444;
    line-height:1.7;
    margin:20px 0;
}

button {
    width:100%;
    padding:14px;
    border:none;
    border-radius:50px;
    background:var(--pink);
    color:white;
    font-weight:bold;
    font-size:16px;
    cursor:pointer;
}

button:disabled {
    opacity:.6;
    cursor:not-allowed;
}

#hal {
    font-size:11px;
    color:#cc8b9c;
    margin-top:12px;
}

.heart {
    position:absolute;
    font-size:20px;
    color:var(--pink);
    animation:fly 4s linear infinite;
    opacity:.6;
}

@keyframes fly {
    from { transform:translateY(110vh); opacity:1; }
    to { transform:translateY(-10vh); opacity:0; }
}
</style>
</head>

<body>

<audio id="musik" loop>
    <source src="musik/lagu.mp3" type="audio/mpeg">
</audio>

<div class="container">
    <div class="img-box">
        <img id="gambar" src="img/01.png">
    </div>

    <div id="teks"></div>

    <button id="btn">Mulai â¤ï¸</button>
    <div id="hal"></div>
</div>

<script>
const musik = document.getElementById("musik");
const teks = document.getElementById("teks");
const btn = document.getElementById("btn");
const hal = document.getElementById("hal");
const img = document.getElementById("gambar");

let n = 0;
let i = 0;
let sedangMengetik = false;

const pesan = [
"hallo sayaanggkuu... akuu mau mintaa maaff bangett soalnya tadi, maaf klo ada kataÂ² yang kurang enak, aku lagii bingung lagi kacau fikiranku...",
"harusnya aku bisa ngontrol itu, maaf yaa malah bikin km ngerasa ga nyaman. sebenernya aku ngerasa kurang dianggep ajaa seng sm km...",
"maaf yaa kyk butuh validasi bngt dari km, setelah debat tadi aku ngerasa kyk di sepelein aja sihh seng...",
"dan ketika aku mencoba marah dengan cuek ke km pun, km biasa aja dan malah kadang km bercandain, sebemernya gapapa cm aku ngerasa kyk di sepelein...",
"aku tau aku gampang di bujuknya, km cm manggil 'sayangkuu' gt aja aku dah ga bisa buat cuek lgi...",
"soal keluar bertiga tadi, sebenernya aku gpp, cm gimna ya jeles itu pasti ada, siapapun pasti juga jeles, km pun pasti klo diposisiku juga jeles...",
"aku juga sadar diri seng aku ya belum bisa buat kyk cwoÂ² lain, maaf klo aku bilang gnii teruss, akuu selalu ngerasa bersalah karna ituu...",
"aku makin bingung dan agak ragu apa bener cm aku aja yang benerÂ² sayaangg dan takut kehilangan km...",
"aku sayang dan tulus sm km, mungkin klo km juga ngerasa kyk gtu tpi masih gengsi, atau aku yang terlalu pd wkwkw...",
"aku inget km bilang cwo special itu yang berani dateng ke orang tua... aku sadar aku belum bisa kesana, makanya aku ngerasa aku belum special buat kamu...",
"akuu lgi ga percaya diri, ga pd, lgi gaa bisa berfikir jernih. maaff klo aku mikir gtu, harusnya aku bisa ngendaliin itu biar ga mikir jauh...",
"tapi aku agak tenang setelah ngetik ini, aku mauu teruss sm km ga mau kehilangan kamu, akuu sayaangg kamuu...",
"aku harap kita bisa bareng terus saling memahami, jadi pasangan di masa depan. aku selalu berdoa ingin berjodoh sm km...",
"klo nnt aku bukan jodoh km, aku harap aku masih bisa ngehabisin waktu bareng sm km sampe kita nemuin jodoh masing-masing. terimakasih yaa seng udah mau baca sampe abiss...",
"i lovee uuu moree sayaanggkuu, lovee loveee banyakkkk! ğŸ’—ğŸ’—ğŸ’—"
];

const imgs = [
"img/01.png","img/02.png","img/03.png","img/04.png","img/05.png",
"img/06.png","img/07.png","img/08.png","img/09.png","img/10.png",
"img/11.png","img/12.png","img/13.png","img/14.png","img/15.png"
];

function ketik() {
    sedangMengetik = true;
    btn.disabled = true;

    if (i < pesan[n].length) {
        teks.innerHTML += pesan[n].charAt(i);
        i++;
        setTimeout(ketik, 35);
    } else {
        sedangMengetik = false;
        btn.disabled = false;
        n++; // NAIK SETELAH SELESAI NGETIK
        if (n === pesan.length) btn.innerHTML = "Selesai â¤ï¸";
    }
}

btn.onclick = () => {
    if (sedangMengetik) return;

    if (n === 0) {
        musik.volume = 0;
        musik.play();
        let v = 0;
        const fade = setInterval(() => {
            v += 0.02;
            musik.volume = Math.min(v, 1);
            if (v >= 1) clearInterval(fade);
        }, 100);
    }

    teks.innerHTML = "";
    i = 0;
    img.src = imgs[n];
    hal.innerHTML = (n + 1) + " / " + pesan.length;
    ketik();
};

setInterval(() => {
    const h = document.createElement("div");
    h.className = "heart";
    h.innerHTML = "â¤ï¸";
    h.style.left = Math.random() * 100 + "vw";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 4000);
}, 500);
</script>

</body>
</html>
